# Caddy configuration example for Family Photo Archive
# Place this in Caddyfile

your-domain.com {
    # Enable HTTPS (automatic with Let's Encrypt)
    tls your-email@example.com

    # Reverse proxy to Node.js app
    reverse_proxy localhost:3000 {
        header_up X-Real-IP {remote_host}
        header_up X-Forwarded-For {remote_host}
        header_up X-Forwarded-Proto {scheme}
    }

    # Increase max request body size for photo uploads
    request_body_max_size 100MB

    # Logging
    log {
        output file /var/log/caddy/fam-pho.log
        format json
    }
}
